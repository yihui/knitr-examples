\documentclass[a4paper,titlepage]{tufte-handout}\usepackage[]{graphicx}\usepackage[]{color}
%% maxwidth is the original width if it is less than linewidth
%% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

\definecolor{fgcolor}{rgb}{0.345, 0.345, 0.345}
\newcommand{\hlnum}[1]{\textcolor[rgb]{0.686,0.059,0.569}{#1}}%
\newcommand{\hlstr}[1]{\textcolor[rgb]{0.192,0.494,0.8}{#1}}%
\newcommand{\hlcom}[1]{\textcolor[rgb]{0.678,0.584,0.686}{\textit{#1}}}%
\newcommand{\hlopt}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hlstd}[1]{\textcolor[rgb]{0.345,0.345,0.345}{#1}}%
\newcommand{\hlkwa}[1]{\textcolor[rgb]{0.161,0.373,0.58}{\textbf{#1}}}%
\newcommand{\hlkwb}[1]{\textcolor[rgb]{0.69,0.353,0.396}{#1}}%
\newcommand{\hlkwc}[1]{\textcolor[rgb]{0.333,0.667,0.333}{#1}}%
\newcommand{\hlkwd}[1]{\textcolor[rgb]{0.737,0.353,0.396}{\textbf{#1}}}%
\let\hlipl\hlkwb

\usepackage{framed}
\makeatletter
\newenvironment{kframe}{%
 \def\at@end@of@kframe{}%
 \ifinner\ifhmode%
  \def\at@end@of@kframe{\end{minipage}}%
  \begin{minipage}{\columnwidth}%
 \fi\fi%
 \def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
 \colorbox{shadecolor}{##1}\hskip-\fboxsep
     % There is no \\@totalrightmargin, so:
     \hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
 \MakeFramed {\advance\hsize-\width
   \@totalleftmargin\z@ \linewidth\hsize
   \@setminipage}}%
 {\par\unskip\endMakeFramed%
 \at@end@of@kframe}
\makeatother

\definecolor{shadecolor}{rgb}{.97, .97, .97}
\definecolor{messagecolor}{rgb}{0, 0, 0}
\definecolor{warningcolor}{rgb}{1, 0, 1}
\definecolor{errorcolor}{rgb}{1, 0, 0}
\newenvironment{knitrout}{}{} % an empty environment to be redefined in TeX

\usepackage{alltt}
\title{ggplot2 Gallery}
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\begin{document}
\maketitle
\tableofcontents



% the first 10 geoms in ggplot2



\section{geom\_abline}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlcom{### Name: geom_abline}
\hlcom{### Title: Lines: horizontal, vertical, and specified by slope and}
\hlcom{###   intercept.}
\hlcom{### Aliases: geom_abline geom_hline geom_vline}

\hlcom{### ** Examples}

\hlstd{p} \hlkwb{<-} \hlkwd{ggplot}\hlstd{(mtcars,} \hlkwd{aes}\hlstd{(wt, mpg))} \hlopt{+} \hlkwd{geom_point}\hlstd{()}

\hlcom{# Fixed values}
\hlstd{p} \hlopt{+} \hlkwd{geom_vline}\hlstd{(}\hlkwc{xintercept} \hlstd{=} \hlnum{5}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_abline-1} 
\begin{kframe}\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_vline}\hlstd{(}\hlkwc{xintercept} \hlstd{=} \hlnum{1}\hlopt{:}\hlnum{5}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_abline-2} 
\begin{kframe}\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_hline}\hlstd{(}\hlkwc{yintercept} \hlstd{=} \hlnum{20}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_abline-3} 
\begin{kframe}\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_abline}\hlstd{()} \hlcom{# Can't see it - outside the range of the data}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_abline-4} 
\begin{kframe}\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_abline}\hlstd{(}\hlkwc{intercept} \hlstd{=} \hlnum{20}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_abline-5} 
\begin{kframe}\begin{alltt}
\hlcom{# Calculate slope and intercept of line of best fit}
\hlkwd{coef}\hlstd{(}\hlkwd{lm}\hlstd{(mpg} \hlopt{~} \hlstd{wt,} \hlkwc{data} \hlstd{= mtcars))}
\end{alltt}
\begin{verbatim}
## (Intercept)          wt 
##      37.285      -5.344
\end{verbatim}
\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_abline}\hlstd{(}\hlkwc{intercept} \hlstd{=} \hlnum{37}\hlstd{,} \hlkwc{slope} \hlstd{=} \hlopt{-}\hlnum{5}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_abline-6} 
\begin{kframe}\begin{alltt}
\hlcom{# But this is easier to do with geom_smooth:}
\hlstd{p} \hlopt{+} \hlkwd{geom_smooth}\hlstd{(}\hlkwc{method} \hlstd{=} \hlstr{"lm"}\hlstd{,} \hlkwc{se} \hlstd{=} \hlnum{FALSE}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_abline-7} 
\begin{kframe}\begin{alltt}
\hlcom{# To show different lines in different facets, use aesthetics}
\hlstd{p} \hlkwb{<-} \hlkwd{ggplot}\hlstd{(mtcars,} \hlkwd{aes}\hlstd{(mpg, wt))} \hlopt{+}
  \hlkwd{geom_point}\hlstd{()} \hlopt{+}
  \hlkwd{facet_wrap}\hlstd{(}\hlopt{~} \hlstd{cyl)}

\hlstd{mean_wt} \hlkwb{<-} \hlkwd{data.frame}\hlstd{(}\hlkwc{cyl} \hlstd{=} \hlkwd{c}\hlstd{(}\hlnum{4}\hlstd{,} \hlnum{6}\hlstd{,} \hlnum{8}\hlstd{),} \hlkwc{wt} \hlstd{=} \hlkwd{c}\hlstd{(}\hlnum{2.28}\hlstd{,} \hlnum{3.11}\hlstd{,} \hlnum{4.00}\hlstd{))}
\hlstd{p} \hlopt{+} \hlkwd{geom_hline}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{yintercept} \hlstd{= wt), mean_wt)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_abline-8} 
\begin{kframe}\begin{alltt}
\hlcom{# You can also control other aesthetics}
\hlkwd{ggplot}\hlstd{(mtcars,} \hlkwd{aes}\hlstd{(mpg, wt,} \hlkwc{colour} \hlstd{= wt))} \hlopt{+}
  \hlkwd{geom_point}\hlstd{()} \hlopt{+}
  \hlkwd{geom_hline}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{yintercept} \hlstd{= wt,} \hlkwc{colour} \hlstd{= wt), mean_wt)} \hlopt{+}
  \hlkwd{facet_wrap}\hlstd{(}\hlopt{~} \hlstd{cyl)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_abline-9} 

\end{knitrout}


\section{geom\_area}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlcom{### Name: geom_ribbon}
\hlcom{### Title: Ribbons and area plots.}
\hlcom{### Aliases: geom_area geom_ribbon}

\hlcom{### ** Examples}

\hlcom{# Generate data}
\hlstd{huron} \hlkwb{<-} \hlkwd{data.frame}\hlstd{(}\hlkwc{year} \hlstd{=} \hlnum{1875}\hlopt{:}\hlnum{1972}\hlstd{,} \hlkwc{level} \hlstd{=} \hlkwd{as.vector}\hlstd{(LakeHuron))}
\hlstd{h} \hlkwb{<-} \hlkwd{ggplot}\hlstd{(huron,} \hlkwd{aes}\hlstd{(year))}

\hlstd{h} \hlopt{+} \hlkwd{geom_ribbon}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{ymin}\hlstd{=}\hlnum{0}\hlstd{,} \hlkwc{ymax}\hlstd{=level))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_area-1} 
\begin{kframe}\begin{alltt}
\hlstd{h} \hlopt{+} \hlkwd{geom_area}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{y} \hlstd{= level))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_area-2} 
\begin{kframe}\begin{alltt}
\hlcom{# Add aesthetic mappings}
\hlstd{h} \hlopt{+}
  \hlkwd{geom_ribbon}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{ymin} \hlstd{= level} \hlopt{-} \hlnum{1}\hlstd{,} \hlkwc{ymax} \hlstd{= level} \hlopt{+} \hlnum{1}\hlstd{),} \hlkwc{fill} \hlstd{=} \hlstr{"grey70"}\hlstd{)} \hlopt{+}
  \hlkwd{geom_line}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{y} \hlstd{= level))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_area-3} 

\end{knitrout}


\section{geom\_bar}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlcom{### Name: geom_bar}
\hlcom{### Title: Bars, rectangles with bases on x-axis}
\hlcom{### Aliases: geom_bar stat_count}

\hlcom{### ** Examples}

\hlcom{# geom_bar is designed to make it easy to create bar charts that show}
\hlcom{# counts (or sums of weights)}
\hlstd{g} \hlkwb{<-} \hlkwd{ggplot}\hlstd{(mpg,} \hlkwd{aes}\hlstd{(class))}
\hlcom{# Number of cars in each class:}
\hlstd{g} \hlopt{+} \hlkwd{geom_bar}\hlstd{()}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bar-1} 
\begin{kframe}\begin{alltt}
\hlcom{# Total engine displacement of each class}
\hlstd{g} \hlopt{+} \hlkwd{geom_bar}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{weight} \hlstd{= displ))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bar-2} 
\begin{kframe}\begin{alltt}
\hlcom{# To show (e.g.) means, you need stat = "identity"}
\hlstd{df} \hlkwb{<-} \hlkwd{data.frame}\hlstd{(}\hlkwc{trt} \hlstd{=} \hlkwd{c}\hlstd{(}\hlstr{"a"}\hlstd{,} \hlstr{"b"}\hlstd{,} \hlstr{"c"}\hlstd{),} \hlkwc{outcome} \hlstd{=} \hlkwd{c}\hlstd{(}\hlnum{2.3}\hlstd{,} \hlnum{1.9}\hlstd{,} \hlnum{3.2}\hlstd{))}
\hlkwd{ggplot}\hlstd{(df,} \hlkwd{aes}\hlstd{(trt, outcome))} \hlopt{+}
  \hlkwd{geom_bar}\hlstd{(}\hlkwc{stat} \hlstd{=} \hlstr{"identity"}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bar-3} 
\begin{kframe}\begin{alltt}
\hlcom{# But geom_point() display exactly the same information and doesn't}
\hlcom{# require the y-axis to touch zero.}
\hlkwd{ggplot}\hlstd{(df,} \hlkwd{aes}\hlstd{(trt, outcome))} \hlopt{+}
  \hlkwd{geom_point}\hlstd{()}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bar-4} 
\begin{kframe}\begin{alltt}
\hlcom{# You can also use geom_bar() with continuous data, in which case}
\hlcom{# it will show counts at unique locations}
\hlstd{df} \hlkwb{<-} \hlkwd{data.frame}\hlstd{(}\hlkwc{x} \hlstd{=} \hlkwd{rep}\hlstd{(}\hlkwd{c}\hlstd{(}\hlnum{2.9}\hlstd{,} \hlnum{3.1}\hlstd{,} \hlnum{4.5}\hlstd{),} \hlkwd{c}\hlstd{(}\hlnum{5}\hlstd{,} \hlnum{10}\hlstd{,} \hlnum{4}\hlstd{)))}
\hlkwd{ggplot}\hlstd{(df,} \hlkwd{aes}\hlstd{(x))} \hlopt{+} \hlkwd{geom_bar}\hlstd{()}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bar-5} 
\begin{kframe}\begin{alltt}
\hlcom{# cf. a histogram of the same data}
\hlkwd{ggplot}\hlstd{(df,} \hlkwd{aes}\hlstd{(x))} \hlopt{+} \hlkwd{geom_histogram}\hlstd{(}\hlkwc{binwidth} \hlstd{=} \hlnum{0.5}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bar-6} 
\begin{kframe}\begin{alltt}
\hlcom{## No test: }
\hlcom{# Bar charts are automatically stacked when multiple bars are placed}
\hlcom{# at the same location}
\hlstd{g} \hlopt{+} \hlkwd{geom_bar}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{fill} \hlstd{= drv))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bar-7} 
\begin{kframe}\begin{alltt}
\hlcom{# You can instead dodge, or fill them}
\hlstd{g} \hlopt{+} \hlkwd{geom_bar}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{fill} \hlstd{= drv),} \hlkwc{position} \hlstd{=} \hlstr{"dodge"}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bar-8} 
\begin{kframe}\begin{alltt}
\hlstd{g} \hlopt{+} \hlkwd{geom_bar}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{fill} \hlstd{= drv),} \hlkwc{position} \hlstd{=} \hlstr{"fill"}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bar-9} 
\begin{kframe}\begin{alltt}
\hlcom{# To change plot order of bars, change levels in underlying factor}
\hlstd{reorder_size} \hlkwb{<-} \hlkwa{function}\hlstd{(}\hlkwc{x}\hlstd{) \{}
  \hlkwd{factor}\hlstd{(x,} \hlkwc{levels} \hlstd{=} \hlkwd{names}\hlstd{(}\hlkwd{sort}\hlstd{(}\hlkwd{table}\hlstd{(x))))}
\hlstd{\}}
\hlkwd{ggplot}\hlstd{(mpg,} \hlkwd{aes}\hlstd{(}\hlkwd{reorder_size}\hlstd{(class)))} \hlopt{+} \hlkwd{geom_bar}\hlstd{()}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bar-10} 
\begin{kframe}\begin{alltt}
\hlcom{## End(No test)}
\end{alltt}
\end{kframe}
\end{knitrout}


\section{geom\_bin2d}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlcom{### Name: geom_bin2d}
\hlcom{### Title: Add heatmap of 2d bin counts.}
\hlcom{### Aliases: geom_bin2d stat_bin2d stat_bin_2d}

\hlcom{### ** Examples}

\hlstd{d} \hlkwb{<-} \hlkwd{ggplot}\hlstd{(diamonds,} \hlkwd{aes}\hlstd{(x, y))} \hlopt{+} \hlkwd{xlim}\hlstd{(}\hlnum{4}\hlstd{,} \hlnum{10}\hlstd{)} \hlopt{+} \hlkwd{ylim}\hlstd{(}\hlnum{4}\hlstd{,} \hlnum{10}\hlstd{)}
\hlstd{d} \hlopt{+} \hlkwd{geom_bin2d}\hlstd{()}
\end{alltt}


{\ttfamily\noindent\color{warningcolor}{\#\# Warning: Removed 478 rows containing non-finite values (stat\_bin2d).}}\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bin2d-1} 
\begin{kframe}\begin{alltt}
\hlcom{# You can control the size of the bins by specifying the number of}
\hlcom{# bins in each direction:}
\hlstd{d} \hlopt{+} \hlkwd{geom_bin2d}\hlstd{(}\hlkwc{bins} \hlstd{=} \hlnum{10}\hlstd{)}
\end{alltt}


{\ttfamily\noindent\color{warningcolor}{\#\# Warning: Removed 478 rows containing non-finite values (stat\_bin2d).}}

{\ttfamily\noindent\color{warningcolor}{\#\# Warning: Removed 4 rows containing missing values (geom\_tile).}}\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bin2d-2} 
\begin{kframe}\begin{alltt}
\hlstd{d} \hlopt{+} \hlkwd{geom_bin2d}\hlstd{(}\hlkwc{bins} \hlstd{=} \hlnum{30}\hlstd{)}
\end{alltt}


{\ttfamily\noindent\color{warningcolor}{\#\# Warning: Removed 478 rows containing non-finite values (stat\_bin2d).}}\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bin2d-3} 
\begin{kframe}\begin{alltt}
\hlcom{# Or by specifying the width of the bins}
\hlstd{d} \hlopt{+} \hlkwd{geom_bin2d}\hlstd{(}\hlkwc{binwidth} \hlstd{=} \hlkwd{c}\hlstd{(}\hlnum{0.1}\hlstd{,} \hlnum{0.1}\hlstd{))}
\end{alltt}


{\ttfamily\noindent\color{warningcolor}{\#\# Warning: Removed 478 rows containing non-finite values (stat\_bin2d).}}\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_bin2d-4} 

\end{knitrout}


\section{geom\_blank}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlcom{### Name: geom_blank}
\hlcom{### Title: Blank, draws nothing.}
\hlcom{### Aliases: geom_blank}

\hlcom{### ** Examples}

\hlkwd{ggplot}\hlstd{(mtcars,} \hlkwd{aes}\hlstd{(wt, mpg))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_blank-1} 
\begin{kframe}\begin{alltt}
\hlcom{# Nothing to see here!}
\end{alltt}
\end{kframe}
\end{knitrout}


\section{geom\_boxplot}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlcom{### Name: geom_boxplot}
\hlcom{### Title: Box and whiskers plot.}
\hlcom{### Aliases: geom_boxplot stat_boxplot}

\hlcom{### ** Examples}

\hlstd{p} \hlkwb{<-} \hlkwd{ggplot}\hlstd{(mpg,} \hlkwd{aes}\hlstd{(class, hwy))}
\hlstd{p} \hlopt{+} \hlkwd{geom_boxplot}\hlstd{()}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_boxplot-1} 
\begin{kframe}\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_boxplot}\hlstd{()} \hlopt{+} \hlkwd{geom_jitter}\hlstd{(}\hlkwc{width} \hlstd{=} \hlnum{0.2}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_boxplot-2} 
\begin{kframe}\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_boxplot}\hlstd{()} \hlopt{+} \hlkwd{coord_flip}\hlstd{()}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_boxplot-3} 
\begin{kframe}\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_boxplot}\hlstd{(}\hlkwc{notch} \hlstd{=} \hlnum{TRUE}\hlstd{)}
\end{alltt}


{\ttfamily\noindent\itshape\color{messagecolor}{\#\# notch went outside hinges. Try setting notch=FALSE.\\\#\# notch went outside hinges. Try setting notch=FALSE.}}\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_boxplot-4} 
\begin{kframe}\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_boxplot}\hlstd{(}\hlkwc{varwidth} \hlstd{=} \hlnum{TRUE}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_boxplot-5} 
\begin{kframe}\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_boxplot}\hlstd{(}\hlkwc{fill} \hlstd{=} \hlstr{"white"}\hlstd{,} \hlkwc{colour} \hlstd{=} \hlstr{"#3366FF"}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_boxplot-6} 
\begin{kframe}\begin{alltt}
\hlcom{# By default, outlier points match the colour of the box. Use}
\hlcom{# outlier.colour to override}
\hlstd{p} \hlopt{+} \hlkwd{geom_boxplot}\hlstd{(}\hlkwc{outlier.colour} \hlstd{=} \hlstr{"red"}\hlstd{,} \hlkwc{outlier.shape} \hlstd{=} \hlnum{1}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_boxplot-7} 
\begin{kframe}\begin{alltt}
\hlcom{# Boxplots are automatically dodged when any aesthetic is a factor}
\hlstd{p} \hlopt{+} \hlkwd{geom_boxplot}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{colour} \hlstd{= drv))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_boxplot-8} 
\begin{kframe}\begin{alltt}
\hlcom{# You can also use boxplots with continuous x, as long as you supply}
\hlcom{# a grouping variable. cut_width is particularly useful}
\hlkwd{ggplot}\hlstd{(diamonds,} \hlkwd{aes}\hlstd{(carat, price))} \hlopt{+}
  \hlkwd{geom_boxplot}\hlstd{()}
\end{alltt}


{\ttfamily\noindent\color{warningcolor}{\#\# Warning: Continuous x aesthetic -- did you forget aes(group=...)?}}\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_boxplot-9} 
\begin{kframe}\begin{alltt}
\hlkwd{ggplot}\hlstd{(diamonds,} \hlkwd{aes}\hlstd{(carat, price))} \hlopt{+}
  \hlkwd{geom_boxplot}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{group} \hlstd{=} \hlkwd{cut_width}\hlstd{(carat,} \hlnum{0.25}\hlstd{)))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_boxplot-10} 
\begin{kframe}\begin{alltt}
\hlcom{## No test: }
\hlcom{# It's possible to draw a boxplot with your own computations if you}
\hlcom{# use stat = "identity":}
\hlstd{y} \hlkwb{<-} \hlkwd{rnorm}\hlstd{(}\hlnum{100}\hlstd{)}
\hlstd{df} \hlkwb{<-} \hlkwd{data.frame}\hlstd{(}
  \hlkwc{x} \hlstd{=} \hlnum{1}\hlstd{,}
  \hlkwc{y0} \hlstd{=} \hlkwd{min}\hlstd{(y),}
  \hlkwc{y25} \hlstd{=} \hlkwd{quantile}\hlstd{(y,} \hlnum{0.25}\hlstd{),}
  \hlkwc{y50} \hlstd{=} \hlkwd{median}\hlstd{(y),}
  \hlkwc{y75} \hlstd{=} \hlkwd{quantile}\hlstd{(y,} \hlnum{0.75}\hlstd{),}
  \hlkwc{y100} \hlstd{=} \hlkwd{max}\hlstd{(y)}
\hlstd{)}
\hlkwd{ggplot}\hlstd{(df,} \hlkwd{aes}\hlstd{(x))} \hlopt{+}
  \hlkwd{geom_boxplot}\hlstd{(}
   \hlkwd{aes}\hlstd{(}\hlkwc{ymin} \hlstd{= y0,} \hlkwc{lower} \hlstd{= y25,} \hlkwc{middle} \hlstd{= y50,} \hlkwc{upper} \hlstd{= y75,} \hlkwc{ymax} \hlstd{= y100),}
   \hlkwc{stat} \hlstd{=} \hlstr{"identity"}
 \hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_boxplot-11} 
\begin{kframe}\begin{alltt}
\hlcom{## End(No test)}
\end{alltt}
\end{kframe}
\end{knitrout}


\section{geom\_contour}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlcom{### Name: geom_contour}
\hlcom{### Title: Display contours of a 3d surface in 2d.}
\hlcom{### Aliases: geom_contour stat_contour}

\hlcom{### ** Examples}

\hlcom{#' # Basic plot}
\hlstd{v} \hlkwb{<-} \hlkwd{ggplot}\hlstd{(faithfuld,} \hlkwd{aes}\hlstd{(waiting, eruptions,} \hlkwc{z} \hlstd{= density))}
\hlstd{v} \hlopt{+} \hlkwd{geom_contour}\hlstd{()}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_contour-1} 
\begin{kframe}\begin{alltt}
\hlcom{# Or compute from raw data}
\hlkwd{ggplot}\hlstd{(faithful,} \hlkwd{aes}\hlstd{(waiting, eruptions))} \hlopt{+}
  \hlkwd{geom_density_2d}\hlstd{()}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_contour-2} 
\begin{kframe}\begin{alltt}
\hlcom{## No test: }
\hlcom{# Setting bins creates evenly spaced contours in the range of the data}
\hlstd{v} \hlopt{+} \hlkwd{geom_contour}\hlstd{(}\hlkwc{bins} \hlstd{=} \hlnum{2}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_contour-3} 
\begin{kframe}\begin{alltt}
\hlstd{v} \hlopt{+} \hlkwd{geom_contour}\hlstd{(}\hlkwc{bins} \hlstd{=} \hlnum{10}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_contour-4} 
\begin{kframe}\begin{alltt}
\hlcom{# Setting binwidth does the same thing, parameterised by the distance}
\hlcom{# between contours}
\hlstd{v} \hlopt{+} \hlkwd{geom_contour}\hlstd{(}\hlkwc{binwidth} \hlstd{=} \hlnum{0.01}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_contour-5} 
\begin{kframe}\begin{alltt}
\hlstd{v} \hlopt{+} \hlkwd{geom_contour}\hlstd{(}\hlkwc{binwidth} \hlstd{=} \hlnum{0.001}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_contour-6} 
\begin{kframe}\begin{alltt}
\hlcom{# Other parameters}
\hlstd{v} \hlopt{+} \hlkwd{geom_contour}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{colour} \hlstd{= ..level..))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_contour-7} 
\begin{kframe}\begin{alltt}
\hlstd{v} \hlopt{+} \hlkwd{geom_contour}\hlstd{(}\hlkwc{colour} \hlstd{=} \hlstr{"red"}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_contour-8} 
\begin{kframe}\begin{alltt}
\hlstd{v} \hlopt{+} \hlkwd{geom_raster}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{fill} \hlstd{= density))} \hlopt{+}
  \hlkwd{geom_contour}\hlstd{(}\hlkwc{colour} \hlstd{=} \hlstr{"white"}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_contour-9} 
\begin{kframe}\begin{alltt}
\hlcom{## End(No test)}
\end{alltt}
\end{kframe}
\end{knitrout}


\section{geom\_count}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlcom{### Name: geom_count}
\hlcom{### Title: Count the number of observations at each location.}
\hlcom{### Aliases: geom_count stat_sum}

\hlcom{### ** Examples}

\hlkwd{ggplot}\hlstd{(mpg,} \hlkwd{aes}\hlstd{(cty, hwy))} \hlopt{+}
 \hlkwd{geom_point}\hlstd{()}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_count-1} 
\begin{kframe}\begin{alltt}
\hlkwd{ggplot}\hlstd{(mpg,} \hlkwd{aes}\hlstd{(cty, hwy))} \hlopt{+}
 \hlkwd{geom_count}\hlstd{()}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_count-2} 
\begin{kframe}\begin{alltt}
\hlcom{# Best used in conjunction with scale_size_area which ensures that}
\hlcom{# counts of zero would be given size 0. Doesn't make much different}
\hlcom{# here because the smallest count is already close to 0.}
\hlkwd{ggplot}\hlstd{(mpg,} \hlkwd{aes}\hlstd{(cty, hwy))} \hlopt{+}
 \hlkwd{geom_count}\hlstd{()}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_count-3} 
\begin{kframe}\begin{alltt}
 \hlkwd{scale_size_area}\hlstd{()}
\end{alltt}
\begin{verbatim}
## <ScaleContinuous>
##  Range:  
##  Limits:    0 --    1
\end{verbatim}
\begin{alltt}
\hlcom{# Display proportions instead of counts -------------------------------------}
\hlcom{# By default, all categorical variables in the plot form the groups.}
\hlcom{# Specifying geom_count without a group identifier leads to a plot which is}
\hlcom{# not useful:}
\hlstd{d} \hlkwb{<-} \hlkwd{ggplot}\hlstd{(diamonds,} \hlkwd{aes}\hlstd{(}\hlkwc{x} \hlstd{= cut,} \hlkwc{y} \hlstd{= clarity))}
\hlstd{d} \hlopt{+} \hlkwd{geom_count}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{size} \hlstd{= ..prop..))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_count-4} 
\begin{kframe}\begin{alltt}
\hlcom{# To correct this problem and achieve a more desirable plot, we need}
\hlcom{# to specify which group the proportion is to be calculated over.}
\hlstd{d} \hlopt{+} \hlkwd{geom_count}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{size} \hlstd{= ..prop..,} \hlkwc{group} \hlstd{=} \hlnum{1}\hlstd{))} \hlopt{+}
  \hlkwd{scale_size_area}\hlstd{(}\hlkwc{max_size} \hlstd{=} \hlnum{10}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_count-5} 
\begin{kframe}\begin{alltt}
\hlcom{# Or group by x/y variables to have rows/columns sum to 1.}
\hlstd{d} \hlopt{+} \hlkwd{geom_count}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{size} \hlstd{= ..prop..,} \hlkwc{group} \hlstd{= cut))} \hlopt{+}
  \hlkwd{scale_size_area}\hlstd{(}\hlkwc{max_size} \hlstd{=} \hlnum{10}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_count-6} 
\begin{kframe}\begin{alltt}
\hlstd{d} \hlopt{+} \hlkwd{geom_count}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{size} \hlstd{= ..prop..,} \hlkwc{group} \hlstd{= clarity))} \hlopt{+}
  \hlkwd{scale_size_area}\hlstd{(}\hlkwc{max_size} \hlstd{=} \hlnum{10}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_count-7} 

\end{knitrout}


\section{geom\_crossbar}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlcom{### Name: geom_crossbar}
\hlcom{### Title: Vertical intervals: lines, crossbars & errorbars.}
\hlcom{### Aliases: geom_crossbar geom_errorbar geom_linerange geom_pointrange}

\hlcom{### ** Examples}

\hlcom{#' # Create a simple example dataset}
\hlstd{df} \hlkwb{<-} \hlkwd{data.frame}\hlstd{(}
  \hlkwc{trt} \hlstd{=} \hlkwd{factor}\hlstd{(}\hlkwd{c}\hlstd{(}\hlnum{1}\hlstd{,} \hlnum{1}\hlstd{,} \hlnum{2}\hlstd{,} \hlnum{2}\hlstd{)),}
  \hlkwc{resp} \hlstd{=} \hlkwd{c}\hlstd{(}\hlnum{1}\hlstd{,} \hlnum{5}\hlstd{,} \hlnum{3}\hlstd{,} \hlnum{4}\hlstd{),}
  \hlkwc{group} \hlstd{=} \hlkwd{factor}\hlstd{(}\hlkwd{c}\hlstd{(}\hlnum{1}\hlstd{,} \hlnum{2}\hlstd{,} \hlnum{1}\hlstd{,} \hlnum{2}\hlstd{)),}
  \hlkwc{upper} \hlstd{=} \hlkwd{c}\hlstd{(}\hlnum{1.1}\hlstd{,} \hlnum{5.3}\hlstd{,} \hlnum{3.3}\hlstd{,} \hlnum{4.2}\hlstd{),}
  \hlkwc{lower} \hlstd{=} \hlkwd{c}\hlstd{(}\hlnum{0.8}\hlstd{,} \hlnum{4.6}\hlstd{,} \hlnum{2.4}\hlstd{,} \hlnum{3.6}\hlstd{)}
\hlstd{)}

\hlstd{p} \hlkwb{<-} \hlkwd{ggplot}\hlstd{(df,} \hlkwd{aes}\hlstd{(trt, resp,} \hlkwc{colour} \hlstd{= group))}
\hlstd{p} \hlopt{+} \hlkwd{geom_linerange}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{ymin} \hlstd{= lower,} \hlkwc{ymax} \hlstd{= upper))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_crossbar-1} 
\begin{kframe}\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_pointrange}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{ymin} \hlstd{= lower,} \hlkwc{ymax} \hlstd{= upper))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_crossbar-2} 
\begin{kframe}\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_crossbar}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{ymin} \hlstd{= lower,} \hlkwc{ymax} \hlstd{= upper),} \hlkwc{width} \hlstd{=} \hlnum{0.2}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_crossbar-3} 
\begin{kframe}\begin{alltt}
\hlstd{p} \hlopt{+} \hlkwd{geom_errorbar}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{ymin} \hlstd{= lower,} \hlkwc{ymax} \hlstd{= upper),} \hlkwc{width} \hlstd{=} \hlnum{0.2}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_crossbar-4} 
\begin{kframe}\begin{alltt}
\hlcom{# Draw lines connecting group means}
\hlstd{p} \hlopt{+}
  \hlkwd{geom_line}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{group} \hlstd{= group))} \hlopt{+}
  \hlkwd{geom_errorbar}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{ymin} \hlstd{= lower,} \hlkwc{ymax} \hlstd{= upper),} \hlkwc{width} \hlstd{=} \hlnum{0.2}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_crossbar-5} 
\begin{kframe}\begin{alltt}
\hlcom{# If you want to dodge bars and errorbars, you need to manually}
\hlcom{# specify the dodge width}
\hlstd{p} \hlkwb{<-} \hlkwd{ggplot}\hlstd{(df,} \hlkwd{aes}\hlstd{(trt, resp,} \hlkwc{fill} \hlstd{= group))}
\hlstd{p} \hlopt{+}
 \hlkwd{geom_bar}\hlstd{(}\hlkwc{position} \hlstd{=} \hlstr{"dodge"}\hlstd{,} \hlkwc{stat} \hlstd{=} \hlstr{"identity"}\hlstd{)} \hlopt{+}
 \hlkwd{geom_errorbar}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{ymin} \hlstd{= lower,} \hlkwc{ymax} \hlstd{= upper),} \hlkwc{position} \hlstd{=} \hlstr{"dodge"}\hlstd{,} \hlkwc{width} \hlstd{=} \hlnum{0.25}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_crossbar-6} 
\begin{kframe}\begin{alltt}
\hlcom{# Because the bars and errorbars have different widths}
\hlcom{# we need to specify how wide the objects we are dodging are}
\hlstd{dodge} \hlkwb{<-} \hlkwd{position_dodge}\hlstd{(}\hlkwc{width}\hlstd{=}\hlnum{0.9}\hlstd{)}
\hlstd{p} \hlopt{+}
  \hlkwd{geom_bar}\hlstd{(}\hlkwc{position} \hlstd{= dodge,} \hlkwc{stat} \hlstd{=} \hlstr{"identity"}\hlstd{)} \hlopt{+}
  \hlkwd{geom_errorbar}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{ymin} \hlstd{= lower,} \hlkwc{ymax} \hlstd{= upper),} \hlkwc{position} \hlstd{= dodge,} \hlkwc{width} \hlstd{=} \hlnum{0.25}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_crossbar-7} 

\end{knitrout}


\section{geom\_curve}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlcom{### Name: geom_segment}
\hlcom{### Title: Line segments and curves.}
\hlcom{### Aliases: geom_curve geom_segment}

\hlcom{### ** Examples}

\hlstd{b} \hlkwb{<-} \hlkwd{ggplot}\hlstd{(mtcars,} \hlkwd{aes}\hlstd{(wt, mpg))} \hlopt{+}
  \hlkwd{geom_point}\hlstd{()}

\hlstd{df} \hlkwb{<-} \hlkwd{data.frame}\hlstd{(}\hlkwc{x1} \hlstd{=} \hlnum{2.62}\hlstd{,} \hlkwc{x2} \hlstd{=} \hlnum{3.57}\hlstd{,} \hlkwc{y1} \hlstd{=} \hlnum{21.0}\hlstd{,} \hlkwc{y2} \hlstd{=} \hlnum{15.0}\hlstd{)}
\hlstd{b} \hlopt{+}
 \hlkwd{geom_curve}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{x} \hlstd{= x1,} \hlkwc{y} \hlstd{= y1,} \hlkwc{xend} \hlstd{= x2,} \hlkwc{yend} \hlstd{= y2,} \hlkwc{colour} \hlstd{=} \hlstr{"curve"}\hlstd{),} \hlkwc{data} \hlstd{= df)} \hlopt{+}
 \hlkwd{geom_segment}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{x} \hlstd{= x1,} \hlkwc{y} \hlstd{= y1,} \hlkwc{xend} \hlstd{= x2,} \hlkwc{yend} \hlstd{= y2,} \hlkwc{colour} \hlstd{=} \hlstr{"segment"}\hlstd{),} \hlkwc{data} \hlstd{= df)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_curve-1} 
\begin{kframe}\begin{alltt}
\hlstd{b} \hlopt{+} \hlkwd{geom_curve}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{x} \hlstd{= x1,} \hlkwc{y} \hlstd{= y1,} \hlkwc{xend} \hlstd{= x2,} \hlkwc{yend} \hlstd{= y2),} \hlkwc{data} \hlstd{= df,} \hlkwc{curvature} \hlstd{=} \hlopt{-}\hlnum{0.2}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_curve-2} 
\begin{kframe}\begin{alltt}
\hlstd{b} \hlopt{+} \hlkwd{geom_curve}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{x} \hlstd{= x1,} \hlkwc{y} \hlstd{= y1,} \hlkwc{xend} \hlstd{= x2,} \hlkwc{yend} \hlstd{= y2),} \hlkwc{data} \hlstd{= df,} \hlkwc{curvature} \hlstd{=} \hlnum{1}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_curve-3} 
\begin{kframe}\begin{alltt}
\hlstd{b} \hlopt{+} \hlkwd{geom_curve}\hlstd{(}
  \hlkwd{aes}\hlstd{(}\hlkwc{x} \hlstd{= x1,} \hlkwc{y} \hlstd{= y1,} \hlkwc{xend} \hlstd{= x2,} \hlkwc{yend} \hlstd{= y2),}
  \hlkwc{data} \hlstd{= df,}
  \hlkwc{arrow} \hlstd{=} \hlkwd{arrow}\hlstd{(}\hlkwc{length} \hlstd{=} \hlkwd{unit}\hlstd{(}\hlnum{0.03}\hlstd{,} \hlstr{"npc"}\hlstd{))}
\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_curve-4} 
\begin{kframe}\begin{alltt}
\hlkwd{ggplot}\hlstd{(seals,} \hlkwd{aes}\hlstd{(long, lat))} \hlopt{+}
  \hlkwd{geom_segment}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{xend} \hlstd{= long} \hlopt{+} \hlstd{delta_long,} \hlkwc{yend} \hlstd{= lat} \hlopt{+} \hlstd{delta_lat),}
    \hlkwc{arrow} \hlstd{=} \hlkwd{arrow}\hlstd{(}\hlkwc{length} \hlstd{=} \hlkwd{unit}\hlstd{(}\hlnum{0.1}\hlstd{,}\hlstr{"cm"}\hlstd{)))} \hlopt{+}
  \hlkwd{borders}\hlstd{(}\hlstr{"state"}\hlstd{)}
\end{alltt}


{\ttfamily\noindent\itshape\color{messagecolor}{\#\# \\\#\#\ \ \# maps v3.1: updated 'world': all lakes moved to separate new \#\\\#\#\ \ \# 'lakes' database. Type '?world' or 'news(package="{}maps"{})'.\ \ \#}}\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_curve-5} 
\begin{kframe}\begin{alltt}
\hlcom{# You can also use geom_segment to recreate plot(type = "h") :}
\hlstd{counts} \hlkwb{<-} \hlkwd{as.data.frame}\hlstd{(}\hlkwd{table}\hlstd{(}\hlkwc{x} \hlstd{=} \hlkwd{rpois}\hlstd{(}\hlnum{100}\hlstd{,}\hlnum{5}\hlstd{)))}
\hlstd{counts}\hlopt{$}\hlstd{x} \hlkwb{<-} \hlkwd{as.numeric}\hlstd{(}\hlkwd{as.character}\hlstd{(counts}\hlopt{$}\hlstd{x))}
\hlkwd{with}\hlstd{(counts,} \hlkwd{plot}\hlstd{(x, Freq,} \hlkwc{type} \hlstd{=} \hlstr{"h"}\hlstd{,} \hlkwc{lwd} \hlstd{=} \hlnum{10}\hlstd{))}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_curve-6} 
\begin{kframe}\begin{alltt}
\hlkwd{ggplot}\hlstd{(counts,} \hlkwd{aes}\hlstd{(x, Freq))} \hlopt{+}
  \hlkwd{geom_segment}\hlstd{(}\hlkwd{aes}\hlstd{(}\hlkwc{xend} \hlstd{= x,} \hlkwc{yend} \hlstd{=} \hlnum{0}\hlstd{),} \hlkwc{size} \hlstd{=} \hlnum{10}\hlstd{,} \hlkwc{lineend} \hlstd{=} \hlstr{"butt"}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/021-ggplot2-geoms-geom_curve-7} 

\end{knitrout}



\end{document}
